import{_ as g,l as N,c as A,o as B,w as r,p as h,j as V,g as k,q as S,s as w,k as x,n as b,v as M,i as y,a5 as E,a0 as U,r as P,$ as L,Q as R,d as q,V as z,e as Q,t as G,m as J}from"./index-a5325df6.js";import{I as K}from"./dropdown-c1f0bf3b.js";const W="_accordion_5mwp1_1",X="_accordion__item_5mwp1_6",Y="_accordion__layer_5mwp1_9",Z="_accordion__opener_5mwp1_23",ee={accordion:W,accordion__item:X,accordion__layer:Y,accordion__opener:Z,"accordion__opener-text":"_accordion__opener-text_5mwp1_72"},F=()=>({wrap:""}),$=350,oe={props:{tagName:{Type:String,default:"ul"},classNames:{Type:Object,default(){return F()}},once:{Type:Boolean,default:!1},defaultSpeed:{Type:Number,default:$},onBeforeOpened:{Type:Function,default(){return()=>{}}},onOpened:{Type:Function,default(){return()=>{}}},onAfterOpened:{Type:Function,default(){return()=>{}}},onBeforeClosed:{Type:Function,default(){return()=>{}}},onClosed:{Type:Function,default(){return()=>{}}},onAfterClosed:{Type:Function,default(){return()=>{}}}},setup(t){const n=N({items:[],count:0,defaultSpeed:{value:$},once:{value:!1},callback:{}}),s=A(()=>{const{classNames:o}=t;return Object.assign(F(),o)}),e=o=>{const i=o.key||n.count;return n.items.push(Object.assign({},o,{key:i})),n.count++,i},c=o=>{const i=n.items.findIndex(C=>C.key===o);n.items.splice(i,1)},l=o=>{t.once?n.items[0]&&n.items[0].open(o):n.items.forEach(i=>{i.open(o)})},d=o=>{n.items.forEach(i=>{i.close(o)})};return B(()=>{n.defaultSpeed.value=t.defaultSpeed,n.once.value=t.once,n.callback.onBeforeOpened=t.onBeforeOpened,n.callback.onOpened=t.onOpened,n.callback.onAfterOpened=t.onAfterOpened,n.callback.onBeforeClosed=t.onBeforeClosed,n.callback.onClosed=t.onClosed,n.callback.onAfterClosed=t.onAfterClosed}),r(()=>t.defaultSpeed,o=>{n.defaultSpeed.value=o}),r(()=>t.once,o=>{n.once.value=o}),r(()=>t.onBeforeOpened,o=>{n.callback.onBeforeOpened=o}),r(()=>t.onOpened,o=>{n.callback.onOpened=o}),r(()=>t.onAfterOpened,o=>{n.callback.onAfterOpened=o}),r(()=>t.onBeforeClosed,o=>{n.callback.onBeforeClosed=o}),r(()=>t.onClosed,o=>{n.callback.onClosed=o}),r(()=>t.onAfterClosed,o=>{n.callback.onAfterClosed=o}),h("uiAccordionStyleModule",V()),h("uiAccordion",{items:n.items,itemsAdd:e,itemsRemove:c,openedClassName:"is-accordion-opened",defaultSpeed:n.defaultSpeed,once:n.once,callback:n.callback}),{state:n,customClassNames:s,allOpen:l,allClose:d}}};function ne(t,n,s,e,c,l){return k(),S(M(s.tagName),{class:b([t.$style.accordion,e.customClassNames.wrap])},{default:w(()=>[x(t.$slots,"default",{allOpen:e.allOpen,allClose:e.allClose,items:e.state.items})]),_:3},8,["class"])}const te={$style:ee},fe=g(oe,[["render",ne],["__cssModules",te]]),H=()=>({item:""}),le={props:{tagName:{Type:String,default:"li"},classNames:{Type:Object,default(){return H()}},initialOpen:{Type:Boolean,default:!1},keyName:{Type:String,default:null},onBeforeOpened:{Type:Function,default(){return()=>{}}},onOpened:{Type:Function,default(){return()=>{}}},onAfterOpened:{Type:Function,default(){return()=>{}}},onBeforeClosed:{Type:Function,default(){return()=>{}}},onClosed:{Type:Function,default(){return()=>{}}},onAfterClosed:{Type:Function,default(){return()=>{}}}},setup(t){const n=y("uiAccordionStyleModule"),s=y("uiAccordion",{}),e=N({opened:{value:!1},key:null,layer:null,callback:{},initialOpen:{value:!1}}),c=A(()=>{const{classNames:a}=t;return Object.assign(H(),a)}),l=()=>e.layer,d=a=>{e.layer=a},o=()=>{e.layer=null},i=a=>{e.opened.value=a},C=()=>e.opened.value,_=a=>{e.opened.value||e.layer&&e.layer.open&&(s&&s.once&&s.once.value&&s.items&&s.items.forEach(p=>{p.key!==e.key&&p.close(a)}),e.layer.open(a))},u=a=>{e.opened.value&&e.layer&&e.layer.close&&e.layer.close(a)},m=a=>{e.opened.value?u(a):_(a)};return E(()=>{e.initialOpen.value=t.initialOpen,e.callback.onBeforeOpened=t.onBeforeOpened,e.callback.onOpened=t.onOpened,e.callback.onAfterOpened=t.onAfterOpened,e.callback.onBeforeClosed=t.onBeforeClosed,e.callback.onClosed=t.onClosed,e.callback.onAfterClosed=t.onAfterClosed}),B(()=>{s&&s.itemsAdd&&(e.key=s.itemsAdd({key:t.keyName,open:_,close:u,toggle:m,getOpened:C}))}),U(()=>{s&&s.itemsRemove&&s.itemsRemove(e.key)}),r(()=>t.initialOpen,a=>{e.initialOpen.value=a}),r(()=>t.onBeforeOpened,a=>{e.callback.onBeforeOpened=a}),r(()=>t.onOpened,a=>{e.callback.onOpened=a}),r(()=>t.onAfterOpened,a=>{e.callback.onAfterOpened=a}),r(()=>t.onBeforeClosed,a=>{e.callback.onBeforeClosed=a}),r(()=>t.onClosed,a=>{e.callback.onClosed=a}),r(()=>t.onAfterClosed,a=>{e.callback.onAfterClosed=a}),h("uiAccordionItem",{opened:e.opened,initialOpen:e.initialOpen,getLayer:l,setLayer:d,clearLayer:o,setOpened:i,open:_,close:u,toggle:m,callback:e.callback}),{uiAccordion:s,styleModule:n,state:e,customClassNames:c,open:_,close:u,toggle:m}}};function ae(t,n,s,e,c,l){return k(),S(M(s.tagName),{class:b([e.styleModule.accordion__item,{[e.uiAccordion.openedClassName]:e.state.opened.value},e.customClassNames.item])},{default:w(()=>[x(t.$slots,"default",{open:e.open,close:e.close,toggle:e.toggle,opened:e.state.opened.value})]),_:3},8,["class"])}const me=g(le,[["render",ae]]),D=()=>({layer:""}),f=(t,n)=>{t&&t.callback&&t.callback[n]&&t.callback[n]()},se={props:{tagName:{Type:String,default:"div"},classNames:{Type:Object,default(){return D()}}},setup(t){let n=null,s=!1;const e=y("uiAccordionStyleModule"),c=y("uiAccordion",{}),l=y("uiAccordionItem",{}),d=N({opened:!1}),o=P(null),i=A(()=>{const{classNames:u}=t;return Object.assign(D(),u)}),C=u=>{if(d.opened)return;const m=(()=>typeof u=="number"?u:c&&c.defaultSpeed&&c.defaultSpeed.value?c.defaultSpeed.value:0)(),{openedClassName:a}=c,p=getComputedStyle(o.value);f(c,"onBeforeOpened"),f(l,"onBeforeOpened"),clearTimeout(n);let v=null;p.getPropertyValue("display")!=="none"&&(v=o.value.offsetHeight),o.value.style.transitionDuration="0ms",o.value.style.height=null,o.value.classList.add(a);const O=p.getPropertyValue("display"),I=o.value.offsetHeight;o.value.classList.remove(a),o.value.style.display=O,v||(v=o.value.offsetHeight),v!==I&&(o.value.style.height=`${v}px`,o.value.style.overflow="hidden",d.opened=!0,l&&l.setOpened&&l.setOpened(!0),L(()=>{n=setTimeout(()=>{f(c,"onOpened"),f(l,"onOpened"),o.value.style.transitionDuration=`${m}ms`,o.value.style.height=`${I}px`,clearTimeout(n),n=setTimeout(()=>{o.value.style.display=null,o.value.style.height=null,o.value.style.overflow=null,f(c,"onAfterOpened"),f(l,"onAfterOpened"),clearTimeout(n)},m)},0)}))},_=u=>{if(!d.opened)return;const m=(()=>typeof u=="number"?u:c&&c.defaultSpeed&&c.defaultSpeed.value?c.defaultSpeed.value:0)(),{openedClassName:a}=c,p=getComputedStyle(o.value);f(c,"onBeforeClosed"),f(l,"onBeforeClosed"),clearTimeout(n);const v=p.getPropertyValue("display"),T=o.value.offsetHeight;o.value.style.transitionDuration="0ms",o.value.style.height=null,o.value.style.display=v,o.value.classList.remove(a);const O=o.value.offsetHeight;o.value.classList.add(a),T!==O&&(o.value.style.height=`${T}px`,o.value.style.overflow="hidden",d.opened=!1,l&&l.setOpened&&l.setOpened(!1),L(()=>{n=setTimeout(()=>{f(c,"onClosed"),f(l,"onClosed"),o.value.style.transitionDuration=`${m}ms`,o.value.style.height=`${O}px`,clearTimeout(n),n=setTimeout(()=>{o.value.style.display=null,o.value.style.height=null,o.value.style.overflow=null,f(c,"onAfterClosed"),f(l,"onAfterClosed"),clearTimeout(n)},m)},0)}))};return B(()=>{l&&l.getLayer&&l.setLayer&&(l.getLayer()||(l.setLayer({open:C,close:_}),s=!0,l.initialOpen&&l.initialOpen.value&&(d.opened=!0,l.setOpened&&l.setOpened(!0))))}),U(()=>{s&&l&&l.clearLayer&&l.clearLayer()}),{state:d,uiAccordion:c,styleModule:e,layer:o,customClassNames:i}}};function ce(t,n,s,e,c,l){return k(),S(M(s.tagName),{ref:"layer",class:b([e.styleModule.accordion__layer,{[e.uiAccordion.openedClassName]:e.state.opened},e.customClassNames.layer])},{default:w(()=>[x(t.$slots,"default")]),_:3},8,["class"])}const ye=g(se,[["render",ce]]),j=()=>({button:"",text:""}),re={inheritAttrs:!1,components:{IconArrow:K},props:{classNames:{Type:Object,default(){return j()}},toggleAction:{Type:Boolean,default:!0},text:{Type:String,default:"하위 내용"},openText:{Type:String,default:"펼치기"},closeText:{Type:String,default:"접기"}},setup(t){const n=y("uiAccordionStyleModule"),s=y("uiAccordion",{}),e=y("uiAccordionItem",{}),c=A(()=>{const{classNames:l}=t;return Object.assign(j(),l)});return{styleModule:n,customClassNames:c,uiAccordion:s,uiAccordionItem:e}}};function de(t,n,s,e,c,l){const d=R("IconArrow");return k(),q("button",J(t.$attrs,{type:"button",class:[e.styleModule.accordion__opener,{[e.uiAccordion.openedClassName]:e.uiAccordionItem.opened.value},e.customClassNames.button],onClick:n[0]||(n[0]=o=>s.toggleAction&&e.uiAccordionItem.toggle())}),[z(d),Q("span",{class:b([e.styleModule["accordion__opener-text"],e.customClassNames.text])}," 하위 내용 "+G(e.uiAccordionItem.opened.value?"접기":"펼치기"),3)],16)}const pe=g(re,[["render",de]]);export{fe as U,me as a,ye as b,pe as c};
